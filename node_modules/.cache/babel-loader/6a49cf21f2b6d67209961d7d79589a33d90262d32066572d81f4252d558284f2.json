{"ast":null,"code":"import React,{useState,useEffect}from'react';import{isLoggedIn}from'../auth';import{useNavigate}from'react-router-dom';import{toast}from'react-toastify';import backgroundImage from'../assets/pexels-userdash.jpg';// âœ… Import image\nimport{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function UserDashboard(){const[trackingNumber,setTrackingNumber]=useState('');const[userName,setUserName]=useState('');const navigate=useNavigate();useEffect(()=>{if(!isLoggedIn()){toast.error('Please log in to access your dashboard');navigate('/login');}else{// Extract username from token\nconst token=localStorage.getItem('token');const payload=JSON.parse(atob(token.split('.')[1]));setUserName(payload.name||'User');}},[navigate]);const handleTrack=()=>{if(trackingNumber.trim()){navigate(`/track/${trackingNumber.trim()}`);}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-vh-100 d-flex flex-column\",style:{backgroundImage:`url(${backgroundImage})`,backgroundSize:'cover',backgroundPosition:'center',backgroundRepeat:'no-repeat',color:'white'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"container py-5\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-center mb-4\",children:[\"Welcome, \",userName,\" \\uD83D\\uDC4B\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card bg-dark bg-opacity-75 text-light mb-4 p-4 shadow-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCE6 Track Your Parcel\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group mt-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Enter Tracking Number\",value:trackingNumber,onChange:e=>setTrackingNumber(e.target.value),onKeyDown:e=>e.key==='Enter'&&handleTrack()}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:handleTrack,children:\"Track\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card bg-dark bg-opacity-75 text-light p-4 shadow-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83E\\uDDFE Other User Functions\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"View Parcel History (coming soon)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Edit Profile (coming soon)\"}),/*#__PURE__*/_jsx(\"li\",{children:\"Request New Parcel (coming soon)\"})]})]})]})});}export default UserDashboard;","map":{"version":3,"names":["React","useState","useEffect","isLoggedIn","useNavigate","toast","backgroundImage","jsxs","_jsxs","jsx","_jsx","UserDashboard","trackingNumber","setTrackingNumber","userName","setUserName","navigate","error","token","localStorage","getItem","payload","JSON","parse","atob","split","name","handleTrack","trim","className","style","backgroundSize","backgroundPosition","backgroundRepeat","color","children","type","placeholder","value","onChange","e","target","onKeyDown","key","onClick"],"sources":["C:/Users/PC/centuryexpress/client/src/pages/UserDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { isLoggedIn } from '../auth';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport backgroundImage from '../assets/pexels-userdash.jpg'; // âœ… Import image\r\n\r\nfunction UserDashboard() {\r\n  const [trackingNumber, setTrackingNumber] = useState('');\r\n  const [userName, setUserName] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (!isLoggedIn()) {\r\n      toast.error('Please log in to access your dashboard');\r\n      navigate('/login');\r\n    } else {\r\n      // Extract username from token\r\n      const token = localStorage.getItem('token');\r\n      const payload = JSON.parse(atob(token.split('.')[1]));\r\n      setUserName(payload.name || 'User');\r\n    }\r\n  }, [navigate]);\r\n\r\n  const handleTrack = () => {\r\n    if (trackingNumber.trim()) {\r\n      navigate(`/track/${trackingNumber.trim()}`);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"min-vh-100 d-flex flex-column\"\r\n      style={{\r\n        backgroundImage: `url(${backgroundImage})`,\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n        backgroundRepeat: 'no-repeat',\r\n        color: 'white'\r\n      }}\r\n    >\r\n      <div className=\"container py-5\">\r\n        <h2 className=\"text-center mb-4\">Welcome, {userName} ðŸ‘‹</h2>\r\n\r\n        <div className=\"card bg-dark bg-opacity-75 text-light mb-4 p-4 shadow-lg\">\r\n          <h4>ðŸ“¦ Track Your Parcel</h4>\r\n          <div className=\"input-group mt-3\">\r\n            <input\r\n              type=\"text\"\r\n              className=\"form-control\"\r\n              placeholder=\"Enter Tracking Number\"\r\n              value={trackingNumber}\r\n              onChange={(e) => setTrackingNumber(e.target.value)}\r\n              onKeyDown={(e) => e.key === 'Enter' && handleTrack()}\r\n            />\r\n            <button className=\"btn btn-primary\" onClick={handleTrack}>Track</button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"card bg-dark bg-opacity-75 text-light p-4 shadow-lg\">\r\n          <h4>ðŸ§¾ Other User Functions</h4>\r\n          <ul className=\"mt-3\">\r\n            <li>View Parcel History (coming soon)</li>\r\n            <li>Edit Profile (coming soon)</li>\r\n            <li>Request New Parcel (coming soon)</li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}